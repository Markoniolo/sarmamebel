{"version":3,"sources":["scripts/custom-select.js"],"names":["customSelectArray","document","querySelectorAll","length","customSelectArrayInit","i","customSelectInit","window","addEventListener","closeAllSelect","select","options","getElementsByTagName","createCustomSelect","view","querySelector","openSelect","selectHtml","dropdown","createDropdown","createOptions","appendChild","createElement","classList","add","customOption","createOption","optionClickHandler","selected","optionHtml","setAttribute","getAttribute","innerHTML","option","oldActiveOption","remove","value","event","Event","dispatchEvent","oldActiveSelect","e","target","contains","openSelectArray"],"mappings":"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","sourcesContent":["const customSelectArray = document.querySelectorAll('.custom-select')\n\nif (customSelectArray.length) customSelectArrayInit()\n\nfunction customSelectArrayInit() {\n    for (let i = 0; i < customSelectArray.length; i++) {\n        customSelectInit(customSelectArray[i])\n    }\n\n    window.addEventListener('click', closeAllSelect)\n}\n\nfunction customSelectInit(select) {\n    const options = select.getElementsByTagName('option')\n    createCustomSelect(options, select)\n}\n\nfunction createCustomSelect(options, select) {\n    const view = select.querySelector('.custom-select__view')\n    view.addEventListener('click', () => openSelect(view))\n\n    const selectHtml = select.getElementsByTagName('select')[0]\n\n    const dropdown = createDropdown()\n    createOptions(dropdown, view, options, selectHtml)\n\n    select.appendChild(dropdown)\n}\n\nfunction createDropdown() {\n    const dropdown = document.createElement('div')\n    dropdown.classList.add('custom-select__dropdown')\n    return dropdown\n}\n\nfunction createOptions(dropdown, view, options, selectHtml) {\n    for (let i = 0; i < options.length; i++) {\n        const customOption = createOption(options[i])\n        customOption.addEventListener('click', () => optionClickHandler(customOption, dropdown, view, selectHtml))\n        if (options[i].selected) {\n            customOption.classList.add('custom-select__option_active')\n        }\n        dropdown.appendChild(customOption)\n    }\n}\n\nfunction createOption(optionHtml) {\n    const customOption = document.createElement('div')\n    customOption.classList.add('custom-select__option')\n    customOption.setAttribute('data-value', optionHtml.getAttribute('value'))\n    customOption.innerHTML = optionHtml.innerHTML\n    return customOption\n}\n\nfunction optionClickHandler(option, dropdown, view, selectHtml) {\n    const oldActiveOption = dropdown.querySelector('.custom-select__option_active')\n    if (oldActiveOption) oldActiveOption.classList.remove('custom-select__option_active')\n    option.classList.add('custom-select__option_active')\n    view.innerHTML = option.innerHTML\n    selectHtml.value = option.getAttribute('data-value')\n    const event = new Event('change');\n    selectHtml.dispatchEvent(event);\n}\n\nfunction openSelect(view) {\n    const oldActiveSelect = document.querySelector('.custom-select__view_active')\n    if (oldActiveSelect) oldActiveSelect.classList.remove('custom-select__view_active')\n    view.classList.add('custom-select__view_active')\n}\n\nfunction closeAllSelect(e) {\n    if (e.target.classList.contains('custom-select__view')) return\n    const openSelectArray = document.querySelectorAll('.custom-select__view_active')\n    for (let i = 0; i < openSelectArray.length; i++) {\n        openSelectArray[i].classList.remove('custom-select__view_active')\n    }\n}\n"],"file":"custom-select.js"}