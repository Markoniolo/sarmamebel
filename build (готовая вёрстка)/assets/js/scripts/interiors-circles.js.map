{"version":3,"sources":["scripts/interiors-circles.js"],"names":["interiorsCircles","document","querySelectorAll","length","interiorsCirclesInit","wraps","layer","querySelector","modals","closeButtons","window","addEventListener","checkWraps","interiorsCirclesMobileInit","wrapsDesktopInit","i","top","getAttribute","left","setDesktopCoords","classList","add","modal","height","clientHeight","remove","wrap","style","setMobileCoords","body","clientWidth","interiorsCircleInit","circle","openModal","closeModal","index","activeModal"],"mappings":"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","sourcesContent":["const interiorsCircles = document.querySelectorAll('[data-element=\"interiors-circle\"]')\n\nif (interiorsCircles.length) interiorsCirclesInit()\n\nfunction interiorsCirclesInit () {\n    const wraps = document.querySelectorAll('.interiors__wrap')\n    const layer = document.querySelector('.interiors__layer')\n    const modals = document.querySelectorAll('.interiors__modal_fixed')\n    const closeButtons = document.querySelectorAll('.interiors__modal-close')\n\n    window.addEventListener('resize', checkWraps)\n    checkWraps()\n    interiorsCirclesMobileInit()\n\n    function wrapsDesktopInit() {\n        for (let i = 0; i < wraps.length; i++) {\n            const top = +wraps[i].getAttribute('data-top')\n            const left = +wraps[i].getAttribute('data-left')\n            setDesktopCoords(wraps[i], top, left)\n            if (left > 600) {\n                wraps[i].classList.add('interiors__wrap_left')\n            } else {\n                wraps[i].classList.add('interiors__wrap_right')\n            }\n            wraps[i].classList.add('interiors__wrap_active')\n            const modal = wraps[i].querySelector('.interiors__modal')\n            const height = modal.clientHeight\n            if (top < height + 10 - 48) wraps[i].classList.add('interiors__wrap_center')\n            wraps[i].classList.remove('interiors__wrap_active')\n        }\n    }\n\n    function setDesktopCoords (wrap, top, left) {\n        wrap.style.top = top + 'px'\n        wrap.style.left = left + 'px'\n    }\n\n    function setMobileCoords () {\n        for (let i = 0; i < wraps.length; i++) {\n            const top = +wraps[i].getAttribute('data-top')\n            const left = +wraps[i].getAttribute('data-left')\n            wraps[i].style.top = (top * 214/570) + 'px'\n            wraps[i].style.left = (left * 343/912) + 'px'\n        }\n    }\n\n    function checkWraps () {\n        if (document.body.clientWidth < 1260) {\n            setMobileCoords()\n        } else {\n            wrapsDesktopInit()\n        }\n    }\n\n    function interiorsCirclesMobileInit () {\n        for (let i = 0; i < interiorsCircles.length; i++) {\n            interiorsCircleInit(interiorsCircles[i])\n        }\n\n        function interiorsCircleInit (circle) {\n            circle.addEventListener('click', openModal)\n        }\n\n        layer.addEventListener('click', closeModal)\n\n        for (let i = 0; i < closeButtons.length; i++) {\n            closeButtons[i].addEventListener('click', closeModal)\n        }\n\n        function openModal () {\n            const index = this.getAttribute('data-index')\n            modals[index].classList.add('interiors__modal_active')\n            layer.classList.add('interiors__layer_active')\n        }\n\n        function closeModal () {\n            const activeModal = document.querySelector('.interiors__modal_active')\n            activeModal.classList.remove('interiors__modal_active')\n            layer.classList.remove('interiors__layer_active')\n        }\n    }\n}\n"],"file":"interiors-circles.js"}