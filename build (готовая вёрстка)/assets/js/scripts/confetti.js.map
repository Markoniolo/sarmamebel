{"version":3,"sources":["scripts/confetti.js"],"names":["canvas","document","getElementById","canvasInit","W","window","innerWidth","H","clientHeight","context","getContext","maxConfettis","particles","endAnimation","possibleColors","randomFromTo","from","to","Math","floor","random","confettiParticle","x","y","r","d","color","length","tilt","tiltAngleIncremental","tiltAngle","draw","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","Draw","results","requestAnimationFrame","clearRect","innerHeight","i","push","particle","remainingFlakes","cos","sin","addEventListener","width","height","setTimeout","stopAnimation","deleteCanvas","remove"],"mappings":"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","sourcesContent":["const canvas = document.getElementById('confetti');\r\n\r\nif (canvas) canvasInit()\r\n\r\nfunction canvasInit () {\r\n    let W = window.innerWidth;\r\n    let H = canvas.clientHeight;\r\n    const context = canvas.getContext(\"2d\");\r\n    const maxConfettis = 100;\r\n    const particles = [];\r\n    let endAnimation = false\r\n\r\n    const possibleColors = [\r\n        \"#0063BD\",\r\n        \"#B16EE4\",\r\n        \"#D44A1B\",\r\n        \"#7BBF3F\",\r\n        \"#33DAFF\",\r\n    ];\r\n\r\n    function randomFromTo(from, to) {\r\n        return Math.floor(Math.random() * (to - from + 1) + from);\r\n    }\r\n\r\n    function confettiParticle() {\r\n        this.x = Math.random() * W; // x\r\n        this.y = Math.random() * H - H; // y\r\n        this.r = randomFromTo(11, 33); // radius\r\n        this.d = Math.random() * maxConfettis + 11;\r\n        this.color =\r\n            possibleColors[Math.floor(Math.random() * possibleColors.length)];\r\n        this.tilt = Math.floor(Math.random() * 33) - 11;\r\n        this.tiltAngleIncremental = Math.random() * 0.07 + 0.05;\r\n        this.tiltAngle = 0;\r\n\r\n        this.draw = function() {\r\n            context.beginPath();\r\n            context.lineWidth = this.r / 2;\r\n            context.strokeStyle = this.color;\r\n            context.moveTo(this.x + this.tilt + this.r / 3, this.y);\r\n            context.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 5);\r\n            return context.stroke();\r\n        };\r\n    }\r\n\r\n    function Draw() {\r\n        const results = [];\r\n\r\n        requestAnimationFrame(Draw);\r\n\r\n        context.clearRect(0, 0, W, window.innerHeight);\r\n\r\n        for (var i = 0; i < maxConfettis; i++) {\r\n            results.push(particles[i].draw());\r\n        }\r\n\r\n        let particle = {};\r\n        let remainingFlakes = 0;\r\n        for (var i = 0; i < maxConfettis; i++) {\r\n            particle = particles[i];\r\n\r\n            particle.tiltAngle += particle.tiltAngleIncremental;\r\n            particle.y += (Math.cos(particle.d) + 3 + particle.r / 2) / 2;\r\n            particle.tilt = Math.sin(particle.tiltAngle - i / 3) * 15;\r\n\r\n            if (particle.y <= H) remainingFlakes++;\r\n\r\n            if (particle.x > W + 30 || particle.x < -30 || particle.y > H && !endAnimation) {\r\n                particle.x = Math.random() * W;\r\n                particle.y = -30;\r\n                particle.tilt = Math.floor(Math.random() * 10) - 20;\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    window.addEventListener(\r\n        \"resize\",\r\n        function() {\r\n            W = window.innerWidth;\r\n            H = window.innerHeight;\r\n            canvas.width = window.innerWidth;\r\n            canvas.height = window.innerHeight;\r\n        },\r\n        false\r\n    );\r\n\r\n    for (var i = 0; i < maxConfettis; i++) {\r\n        particles.push(new confettiParticle());\r\n    }\r\n\r\n    canvas.width = W;\r\n    canvas.height = H;\r\n    Draw();\r\n\r\n    setTimeout(stopAnimation,1000)\r\n\r\n    function stopAnimation () {\r\n        endAnimation = true\r\n        setTimeout(deleteCanvas,10000)\r\n    }\r\n\r\n    function deleteCanvas () {\r\n        canvas.remove()\r\n    }\r\n}\r\n"],"file":"confetti.js"}