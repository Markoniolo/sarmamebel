{"version":3,"sources":["scripts/scroll-to-anchor.js"],"names":["document","querySelector","setTimeout","initScrollToAnchor","anchorElements","querySelectorAll","i","len","length","_loopAddEventScrollToAnchor","node","addEventListener","clickOnTheScrollElement","event","preventDefault","elementId","dataset","link","substr","hash","element","getElementById","animateScrollToAnchor","theElement","positionNow","window","pageYOffset","positionElement","getBoundingClientRect","top","duration","step","start","performance","now","requestAnimationFrame","animate","time","timePassed","scrollTo"],"mappings":";;AAAA,IAAIA,QAAQ,CAACC,aAAT,CAAuB,gCAAvB,CAAJ,EAA8DC,UAAU,CAACC,kBAAD,EAAqB,CAArB,CAAV;;AAE9D,SAASA,kBAAT,GAA8B;AAC1B,MAAMC,cAAc,GAAGJ,QAAQ,CAACK,gBAAT,CAA0B,gCAA1B,CAAvB;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGH,cAAc,CAACI,MAArC,EAA6CF,CAAC,GAAGC,GAAjD,EAAsDD,CAAC,EAAvD;AAA2DG,IAAAA,2BAA2B,CAACL,cAAc,CAACE,CAAD,CAAf,CAA3B;AAA3D;;AAEA,WAASG,2BAAT,CAAqCC,IAArC,EAA2C;AACvCA,IAAAA,IAAI,CAACC,gBAAL,CAAsB,OAAtB,EAA+BC,uBAA/B;AACH;AACJ;;AAED,SAASA,uBAAT,CAAiCC,KAAjC,EAAwC;AACpCA,EAAAA,KAAK,CAACC,cAAN;AACA,MAAIC,SAAJ;AACA,MAAI,KAAKC,OAAL,CAAaC,IAAjB,EAAuBF,SAAS,GAAG,KAAKC,OAAL,CAAaC,IAAb,CAAkBC,MAAlB,CAAyB,CAAzB,CAAZ,CAAvB,KACKH,SAAS,GAAG,KAAKI,IAAL,CAAUD,MAAV,CAAiB,CAAjB,CAAZ;AACL,MAAME,OAAO,GAAGpB,QAAQ,CAACqB,cAAT,CAAwBN,SAAxB,CAAhB;AACA,MAAIK,OAAJ,EAAaE,qBAAqB,CAACF,OAAD,CAArB;AAChB;;AAED,SAASE,qBAAT,CAA+BC,UAA/B,EAA2C;AACvC,MAAMC,WAAW,GAAGC,MAAM,CAACC,WAA3B;AACA,MAAMC,eAAe,GAAGJ,UAAU,CAACK,qBAAX,GAAmCC,GAAnC,GAAyCH,WAAzC,GAAuD,EAA/E;AACA,MAAMI,QAAQ,GAAG,GAAjB;AACA,MAAMC,IAAI,GAAGJ,eAAe,GAAGH,WAA/B;AACA,MAAMQ,KAAK,GAAGC,WAAW,CAACC,GAAZ,EAAd;AAEAC,EAAAA,qBAAqB,CAAC,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACzC,QAAMC,UAAU,GAAGD,IAAI,GAAGL,KAA1B;;AAEA,QAAIM,UAAU,GAAGR,QAAjB,EAA2B;AACvBL,MAAAA,MAAM,CAACc,QAAP,CAAgB,CAAhB,EAAmBZ,eAAnB;AACH,KAFD,MAEO;AACHF,MAAAA,MAAM,CAACc,QAAP,CAAgB,CAAhB,EAAmBf,WAAW,GAAGO,IAAI,IAAIO,UAAU,GAAGR,QAAjB,CAArC;AACAK,MAAAA,qBAAqB,CAACC,OAAD,CAArB;AACH;AACJ,GAToB,CAArB;AAUH","sourcesContent":["if (document.querySelector('[data-role=\"scroll-to-anchor\"]')) setTimeout(initScrollToAnchor, 0)\n\nfunction initScrollToAnchor() {\n    const anchorElements = document.querySelectorAll('[data-role=\"scroll-to-anchor\"]')\n\n    for (let i = 0, len = anchorElements.length; i < len; i++) _loopAddEventScrollToAnchor(anchorElements[i])\n\n    function _loopAddEventScrollToAnchor(node) {\n        node.addEventListener('click', clickOnTheScrollElement)\n    }\n}\n\nfunction clickOnTheScrollElement(event) {\n    event.preventDefault()\n    let elementId\n    if (this.dataset.link) elementId = this.dataset.link.substr(1)\n    else elementId = this.hash.substr(1)\n    const element = document.getElementById(elementId)\n    if (element) animateScrollToAnchor(element)\n}\n\nfunction animateScrollToAnchor(theElement) {\n    const positionNow = window.pageYOffset\n    const positionElement = theElement.getBoundingClientRect().top + pageYOffset - 50\n    const duration = 300\n    const step = positionElement - positionNow\n    const start = performance.now()\n\n    requestAnimationFrame(function animate(time) {\n        const timePassed = time - start\n\n        if (timePassed > duration) {\n            window.scrollTo(0, positionElement)\n        } else {\n            window.scrollTo(0, positionNow + step * (timePassed / duration))\n            requestAnimationFrame(animate)\n        }\n    })\n}\n"],"file":"scroll-to-anchor.js"}